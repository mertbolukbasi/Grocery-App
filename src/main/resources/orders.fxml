<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import io.github.palexdev.materialfx.controls.MFXButton?>

<BorderPane
        stylesheets="@app.css"
        prefWidth="800"
        prefHeight="600"
        xmlns="http://javafx.com/javafx/21"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="com.group16.grocery_app.controller.OrdersController">
    <style>
        -fx-background-color: #F5F5F5;
    </style>

    <top>
        <VBox spacing="10" style="-fx-padding: 20px; -fx-background-color: #FFFFFF;">
            <Label text="My Orders" styleClass="title-label"/>
            <Label text="View your order history and delivery status"
                   style="-fx-font-size: 12px; -fx-text-fill: #666666;"/>
        </VBox>
    </top>

    <center>
        <VBox spacing="10" style="-fx-padding: 20px;">
            <TableView fx:id="ordersTable" styleClass="table-view" prefHeight="500">
                <columns>
                    <TableColumn fx:id="orderIdCol" text="Order ID" prefWidth="80">
                        <style>
                            -fx-alignment: CENTER;
                        </style>
                    </TableColumn>
                    <TableColumn fx:id="dateCol" text="Order Date" prefWidth="150">
                        <style>
                            -fx-alignment: CENTER;
                        </style>
                    </TableColumn>
                    <TableColumn fx:id="deliveryCol" text="Delivery Date" prefWidth="150">
                        <style>
                            -fx-alignment: CENTER;
                        </style>
                    </TableColumn>
                    <TableColumn fx:id="statusCol" text="Status" prefWidth="100">
                        <style>
                            -fx-alignment: CENTER;
                        </style>
                    </TableColumn>
                    <TableColumn fx:id="totalCol" text="Total" prefWidth="120">
                        <style>
                            -fx-alignment: CENTER_RIGHT;
                        </style>
                    </TableColumn>
                    <TableColumn fx:id="ratingCol" text="Rating" prefWidth="120">
                        <style>
                            -fx-alignment: CENTER;
                        </style>
                    </TableColumn>
                </columns>
            </TableView>

            <VBox fx:id="orderDetailsBox" spacing="10"
                  style="-fx-padding: 15px; -fx-background-color: #FFFFFF; -fx-background-radius: 8px;"
                  visible="false">
                <Label text="Order Details" styleClass="subtitle-label"/>
                <TableView fx:id="itemsTable" prefHeight="200">
                    <columns>
                        <TableColumn fx:id="itemNameCol" text="Product" prefWidth="200">
                            <style>
                                -fx-alignment: CENTER_LEFT;
                            </style>
                        </TableColumn>
                        <TableColumn fx:id="itemQuantityCol" text="Quantity (kg)" prefWidth="120">
                            <style>
                                -fx-alignment: CENTER;
                            </style>
                        </TableColumn>
                        <TableColumn fx:id="itemPriceCol" text="Unit Price" prefWidth="120">
                            <style>
                                -fx-alignment: CENTER_RIGHT;
                            </style>
                        </TableColumn>
                        <TableColumn fx:id="itemTotalCol" text="Total" prefWidth="120">
                            <style>
                                -fx-alignment: CENTER_RIGHT;
                            </style>
                        </TableColumn>
                    </columns>
                </TableView>
                <HBox spacing="10" style="-fx-padding: 10px;">
                    <MFXButton text="View Invoice" onAction="#handleViewInvoice" styleClass="primary-button"/>
                    <MFXButton text="Cancel Order" onAction="#handleCancelOrder" styleClass="secondary-button"/>
                </HBox>
            </VBox>
        </VBox>
    </center>

    <bottom>
        <HBox spacing="15" alignment="CENTER_RIGHT" style="-fx-padding: 20px; -fx-background-color: #FFFFFF;">
            <MFXButton text="Back"
                       onAction="#handleBack"
                       styleClass="secondary-button"/>
        </HBox>
    </bottom>

</BorderPane>

